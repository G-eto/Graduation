<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.thymeleaf.org" class="no-js">
<head>
    <meta http-equiv="Content-Type" content="text/html" ; charset="UTF-8">
    <script type="text/javascript" src="../js/jquery-3.4.1.min.js"></script>
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <title>期刊论文</title>
    <meta name="description" content="">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta name="robots" content="all,follow">
    <!-- Bootstrap CSS-->
    <link rel="stylesheet" href="../vendor/bootstrap/css/bootstrap.min.css">
    <!-- Font Awesome CSS-->
    <link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.3.1/css/all.css"
          integrity="sha384-mzrmE5qonljUremFsqc01SB46JvROS7bZs3IO2EmfFsd15uHvIt+Y8vEf7N7fWAU" crossorigin="anonymous">
    <!-- Google fonts - Popppins for copy-->
    <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Poppins:300,400,800">
    <!-- orion icons-->
    <link rel="stylesheet" href="../css/orionicons.css">
    <!-- theme stylesheet-->
    <link rel="stylesheet" href="../css/style.default.css" id="theme-stylesheet">
    <!-- <link rel="stylesheet" href="../css/style.css"> -->
    <!-- Custom stylesheet - for your changes-->
    <link rel="stylesheet" href="../css/custom.css">
    <!-- Favicon-->
    <link rel="shortcut icon" href="../images/favicon.png?3">
    <!-- Tweaks for older IEs--><!--[if lt IE 9]>
    <script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
    <script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script><![endif]-->
</head>
<body>
<!-- navbar-->
<header class="header">
    <nav class="navbar navbar-expand-lg px-4 py-2 bg-white shadow"><a href="#"
                                                                      class="sidebar-toggler text-gray-500 mr-4 mr-lg-5 lead"><i
            class="fas fa-align-left"></i></a>
        <div class="navbar-brand font-weight-bold text-uppercase text-base">

<!--            <a href="../index">Home</a>&nbsp;
            <a href="../jobs">Jobs</a>&nbsp;
            <a href="../tools/visitor" target="_blank">Tools</a>&nbsp;
            <a href="../about">About</a>-->
        </div>

        <ul class="ml-auto d-flex align-items-center list-unstyled mb-0">
            <li class="nav-item dropdown mr-3" hidden=""><a id="notifications" href="http://example.com"
                                                            data-toggle="dropdown" aria-haspopup="true"
                                                            aria-expanded="false"
                                                            class="nav-link dropdown-toggle text-gray-400 px-1"><i
                    class="fa fa-bell"></i><span class="notification-icon"></span></a>
                <div aria-labelledby="notifications" class="dropdown-menu"><a href="#" class="dropdown-item">
                    <div class="d-flex align-items-center">
                        <div class="icon icon-sm bg-violet text-white"><i class="fab fa-twitter"></i></div>
                        <div class="text ml-2">
                            <p class="mb-0">You have 2 followers</p>
                        </div>
                    </div>
                </a><a href="#" class="dropdown-item">
                    <div class="d-flex align-items-center">
                        <div class="icon icon-sm bg-green text-white"><i class="fas fa-envelope"></i></div>
                        <div class="text ml-2">
                            <p class="mb-0">You have 6 new messages</p>
                        </div>
                    </div>
                </a><a href="#" class="dropdown-item">
                    <div class="d-flex align-items-center">
                        <div class="icon icon-sm bg-blue text-white"><i class="fas fa-upload"></i></div>
                        <div class="text ml-2">
                            <p class="mb-0">Server rebooted</p>
                        </div>
                    </div>
                </a><a href="#" class="dropdown-item">
                    <div class="d-flex align-items-center">
                        <div class="icon icon-sm bg-violet text-white"><i class="fab fa-twitter"></i></div>
                        <div class="text ml-2">
                            <p class="mb-0">You have 2 followers</p>
                        </div>
                    </div>
                </a>
                    <div class="dropdown-divider"></div>
                    <a href="#" class="dropdown-item text-center"><small
                            class="font-weight-bold headings-font-family text-uppercase">View all notifications</small></a>
                </div>
            </li>
            <li class="nav-item dropdown ml-auto"><a id="userInfo" href="http://example.com" data-toggle="dropdown"
                                                     aria-haspopup="true" aria-expanded="false"
                                                     class="nav-link dropdown-toggle"><img src="../images/avatar-6.jpg"
                                                                                           alt="Jason Doe"
                                                                                           style="max-width: 2.5rem;"
                                                                                           class="img-fluid rounded-circle shadow"></a>
                <div aria-labelledby="userInfo" class="dropdown-menu">
                    <a href="#" class="dropdown-item"><strong class="d-block text-uppercase headings-font-family">Mark
                        Stephen</strong><small>Web Developer</small></a>
                    <div class="dropdown-divider"></div>
                    <a href="./changePsw" class="dropdown-item">修改密码</a>
                    <a href="./logout" class="dropdown-item">Logout</a>
                </div>
            </li>
        </ul>
    </nav>
</header>
<div class="d-flex align-items-stretch">
    <div id="sidebar" class="sidebar py-3">
        <div class="text-gray-400 text-uppercase px-3 px-lg-4 py-4 font-weight-bold small headings-font-family">欢迎大佬
        </div>
        <ul class="sidebar-menu list-unstyled">
            <li class="sidebar-list-item"><a href="./analysis" class="sidebar-link text-muted"><i
                    class="o-exit-1 mr-3 text-gray"></i><span>数据统计</span></a></li>
            <li class="sidebar-list-item"><a href="./articles" class="sidebar-link text-muted active"><i
                    class="o-exit-1 mr-3 text-gray"></i><span>期刊论文</span></a></li>
            <li class="sidebar-list-item"><a href="./papers" class="sidebar-link text-muted"><i
                    class="o-exit-1 mr-3 text-gray"></i><span>会议论文</span></a></li>
            <li class="sidebar-list-item"><a href="./projects" class="sidebar-link text-muted"><i
                    class="o-exit-1 mr-3 text-gray"></i><span>主持项目</span></a></li>
            <li class="sidebar-list-item"><a href="./patents" class="sidebar-link text-muted"><i
                    class="o-exit-1 mr-3 text-gray"></i><span>发明专利</span></a></li>
            <li class="sidebar-list-item">
                <a href="#" data-toggle="collapse" data-target="#pages" aria-expanded="false" aria-controls="pages"
                   class="sidebar-link text-muted">
                    <i class="o-wireframe-1 mr-3 text-gray"></i><span>待确认数据</span>
                </a>
                <div id="pages" class="collapse">
                    <ul class="sidebar-menu list-unstyled border-left border-primary border-thick">
                        <li class="sidebar-list-item"><a href="./articles_check"
                                                         class="sidebar-link text-muted pl-lg-5">期刊论文</a></li>
                        <li class="sidebar-list-item"><a href="./projects_check"
                                                         class="sidebar-link text-muted pl-lg-5">主持项目</a></li>
                        <li class="sidebar-list-item" hidden><a href=""
                                                                class="sidebar-link text-muted pl-lg-5">会议论文</a></li>
                        <li class="sidebar-list-item" hidden><a href=""
                                                                class="sidebar-link text-muted pl-lg-5">发明专利</a></li>
                    </ul>
                </div>
            </li>
            <li class="sidebar-list-item"><a href="./information" class="sidebar-link text-muted"><i
                    class="o-exit-1 mr-3 text-gray"></i><span>个人信息</span></a></li>
        </ul>
    </div>
    <div class="page-holder w-100 d-flex flex-wrap">
        <div class="container-fluid px-xl-5">
            <section class="py-5">
                <div class="row">
                    <div class="col-lg-12 mb-4">
                        <div class="card">
                            <div class="card-header">
                                <div class="row">
                                    <div class="text-uppercase col-lg-9 mb-1">
                                        <h4>您所著期刊论文(第一作者/通讯作者/博导一作本人二作)</h4>
                                    <button type="button" data-toggle="modal" data-target="#myModal2" class="btn btn-primary" onclick="showEsi()" hidden>手动录入
                                    </button>
                                    </div>
                                    <div class="col-lg-3 mb-1">
                                        <button type="button" data-toggle="modal" data-target="" class="btn bg-red" onclick="deleteArticles()">
                                            一键删除
                                        </button>
                                        <button type="button" data-toggle="modal" data-target="#myModal" class="btn btn-primary">添加
                                        </button>
                                    </div>
                                </div>
                                <!-- Modal-->
                                <div id="myModal" tabindex="-1" role="dialog" aria-labelledby="exampleModalLabel"
                                     class="modal fade text-left" aria-hidden="true" style="display: none;">
                                    <div role="document" class="modal-dialog">
                                        <div class="modal-content">
                                            <div class="modal-header">
                                                <h4 id="exampleModalLabel" class="modal-title">添加期刊论文</h4>
                                                <button type="button" data-dismiss="modal" aria-label="Close"
                                                        class="close"><span aria-hidden="true">×</span></button>
                                            </div>
                                            <div class="modal-body">
                                                <p>仅填写一作或通讯作者，博士生可列出导师一作本人二作</p>
                                                    <div class="form-group">
                                                        <div class="input-group mb-3">
                                                            <div class="input-group-prepend">
                                                                <select id="role" aria-expanded="false" class="btn btn-outline-primary dropdown-toggle">
                                                                    <option value="">作者类别</option>
                                                                    <option value="第一作者">第一作者</option>
                                                                    <option value="通讯作者">通讯作者</option>
                                                                    <option value="导师一作本人二作">师一本二</option>
                                                                </select>
                                                            </div>
                                                            <input type="text" id="articleName" aria-label="Text input with dropdown button" placeholder="期刊论文题目" class="form-control">
                                                        </div>
                                                    </div>
                                                <div class="form-group">
                                                    <div class="input-group mb-3">
                                                        <textarea id="articleNotes" class="form-control" rows="2" placeholder="备注非必须填写" value="无"></textarea>
                                                    </div>
                                                </div>
                                            </div>
                                            <div class="modal-footer">
                                                <button type="button" data-dismiss="modal" class="btn btn-secondary">
                                                    Close
                                                </button>
                                                <button type="button" class="btn btn-primary" onclick="addArticle()">提交保存</button>
                                            </div>
                                        </div>
                                    </div>
                                </div>
<!--                                modal update-->
                                <!-- Modal-->
                                <div id="myModal2" tabindex="-1" role="dialog" aria-labelledby="exampleModalLabel"
                                     class="modal fade text-left" aria-hidden="true" style="display: none;">
                                    <input hidden id="isAutoFill" value="true">
                                    <div role="document" class="modal-dialog">
                                        <div class="modal-content">
                                            <div class="modal-header">
                                                <h4 id="exampleModalLabel2" class="modal-title">修改期刊论文信息</h4>
                                                <button type="button" data-dismiss="modal" aria-label="Close"
                                                        class="close"><span aria-hidden="true">×</span></button>
                                            </div>
                                            <div class="modal-body">
                                                <p>仅填写一作或通讯作者，博士生可列出导师一作本人二作</p>
                                                <input hidden id="updateId" value="">
                                                <div class="form-group">
                                                    <div class="input-group mb-3">
                                                        <div class="input-group-prepend">
                                                            <select id="updateRole" aria-expanded="false" class="btn btn-outline-primary dropdown-toggle form-control">
                                                                <option value="">作者类别</option>
                                                                <option value="第一作者">第一作者</option>
                                                                <option value="通讯作者">通讯作者</option>
                                                                <option value="导师一作本人二作">师一本二</option>
                                                            </select>
                                                        </div>
                                                        <input type="text" id="updateName" aria-label="Text input with dropdown button" placeholder="期刊论文题目" class="form-control">
                                                    </div>
                                                </div>
                                                    <div class="form-group">
                                                        <label>期刊名/简称/ISSN</label>
                                                        <input type="text" id="updateJournal" placeholder="期刊名/简称/ISSN" class="form-control">
                                                    </div>
                                                <div class="form-group" hidden id="citationGroup">
                                                    <label>被引次数</label>
                                                    <input type="number" value="0" placeholder="请输入被引用次数" class="form-control col-md-4"
                                                           id="addCitation">
                                                </div>
                                                <div class="form-group" hidden id="isEsiGroup">
                                                    <div class="checkbox">
                                                        <label>
                                                            <input type="checkbox" id="isEsiChecked">是否ESI高被引</label>
                                                    </div>
                                                </div>
                                                <div class="form-group">
                                                    <div class="input-group mb-3">
                                                        <textarea id="updateNotes" class="form-control" rows="2" placeholder="备注非必须填写" value="无"></textarea>
                                                    </div>
                                                </div>
                                            </div>
                                            <div class="modal-footer">
                                                <button type="button" data-dismiss="modal" class="btn btn-secondary">
                                                    Close
                                                </button>
                                                <button type="button" class="btn btn-primary" data-dismiss="" id="update_btn" onclick="updateArticles()">提交修改</button>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                                <!-- </span> -->
                            </div>
                            <div class="card-body">
                                <input hidden th:value="${myArticles.size()}" id="articleNumber">
                                <table class="table table-striped table-hover card-text">
                                    <thead>
                                    <tr>
                                        <th>#</th>
                                        <th>发表时间</th>
                                        <th>期刊论文</th>
                                        <th>citation</th>
                                        <th>isESI</th>
                                        <th>期刊</th>
                                        <th>isTop</th>
                                        <th>IF</th>
                                        <th>JCR/CCF</th>
                                        <th hidden>Action</th>
                                    </tr>
                                    </thead>
                                    <tbody>
                                    <tr th:each="myArticle, Stat:${myArticles}">
                                        <th scope="row" class="custom-control custom-checkbox">
                                            <input th:id="'customCheck'+${myArticles.indexOf(myArticle)}" name="checkedId" th:value="${myArticle.getArticle().getId()}" type="checkbox" class="custom-control-input">
                                            <label th:for="'customCheck'+${myArticles.indexOf(myArticle)}" name="checkedId2" class="custom-control-label" th:text="${myArticles.indexOf(myArticle)}+1"></label></th>
                                        <td th:text="${myArticle.getArticle().getYear()}"></td>
                                        <td><a href="javascript:return false;" style="color: #000000 ;text-decoration : none" th:title="${myArticle.getArticle().getName()}" th:text="${myArticle.getArticle().getAttrName()}"></a></td>
                                        <td th:text="${myArticle.getArticle().getCitation()}"></td>
                                        <td th:text="${myArticle.getArticle().getESI()}"></td>
                                        <td><a target="_blank" th:href="${myArticle.getArticle().getJournal().getUrl()}" th:title="${myArticle.getArticle().getJournal().getName()}" th:text="${myArticle.getArticle().getJournal().getAbbrTitle()}"></a></td>
                                        <td th:text="${myArticle.getArticle().getJournal().getTop()}"></td>
                                        <td th:text="${myArticle.getArticle().getJournal().getIF()}"></td>
                                        <td th:text="${myArticle.getArticle().getJournal().getSection()}"></td>
                                        <td>
                                            <button type="button" hidden data-toggle="modal" data-target="#myModal2" class="btn btn-primary" th:onclick="'transportData('+${myArticle.getArticle().getId()}+',\''+${myArticle.getArticle().getName()}+'\', \''+${myArticle.getArticle().getJournal().getName()}+'\', \''+${myArticle.getNotes()}+'\', \''+${myArticle.getRole()}+'\')'">修改</button>
                                        </td>
                                    </tr>
                                    </tbody>
                                </table>
                            </div>
                        </div>
                    </div>
                </div>
            </section>
        </div>
        <!--         <footer class="footer bg-white shadow align-self-end py-3 px-xl-5 w-100">
                  <div class="container-fluid">
                    <div class="row">
                      <div class="col-md-6 text-center text-md-left text-primary">
                        <p class="mb-2 mb-md-0">Your company &copy; 2018-2020</p>
                      </div>
                      <div class="col-md-6 text-center text-md-right text-gray-400">
                        <p class="mb-0">Copyright &copy; 2019.Company name All rights reserved.<a target="_blank" href="http://sc.chinaz.com/moban/">&#x7F51;&#x9875;&#x6A21;&#x677F;</a></p>
                        Please do not remove the backlink to us unless you support further theme's development at https://bootstrapious.com/donate. It is part of the license conditions. Thank you for understanding :)-->
        <!--               </div>
                    </div>
                  </div>
                </footer> -->

    </div>
</div>

<!-- <hr> -->
<footer class="footer footer-bar">
    <div class="container text-center">
        <div class="row justify-content-center">
            <div class="col-12">
                <div class="footer-link">
                    <a href="http://www.buct.edu.cn">BUCT</a>&nbsp;&nbsp;|&nbsp;&nbsp;
                    <a href="http://jwgl.buct.edu.cn/">教务管理系统</a>&nbsp;&nbsp;|&nbsp;&nbsp;
                    <a href="http://tree.buct.edu.cn/">校园网</a>&nbsp;&nbsp;|&nbsp;&nbsp;
                    <a href="https://www.zizhu.buct.edu.cn/1221/list.htm">北化资助中心</a>&nbsp;&nbsp;|&nbsp;&nbsp;
                    <a href="https://w.buct.edu.cn">BUCT-VPN</a>
                </div>
                <div class="">
                    <p class="mb-0">Copyright &copy; 2020.Company name All rights reserved.
                        <a target="_blank" href="#">基于网络爬虫的高校学院级科研评价实践设计</a>
                    </p>
                </div>
            </div>
        </div>
    </div><!--end container-->
</footer><!--end footer-->
<!-- Footer End -->

<!-- Back to top -->
<a href="#" class="back-to-top rounded text-center" id="back-to-top">
    <i class="mdi mdi-chevron-up d-block"> </i>
</a>
<!-- JavaScript files-->
<script src="../vendor/jquery/jquery.min.js"></script>
<script src="../vendor/popper.js/umd/popper.min.js"></script>
<script src="../vendor/bootstrap/js/bootstrap.min.js"></script>
<script src="../vendor/jquery.cookie/jquery.cookie.js"></script>
<script src="../vendor/chart.js/Chart.min.js"></script>
<script src="../js/js.cookie.min.js"></script>
<script src="../js/front.js"></script>
<script src="../js/my/articles.js"></script>
</body>
</html>